---
import { useTranslations } from '../i18n/utils';

const t = useTranslations(Astro.currentLocale);

const { variant = 'primary', label, ...rest } = Astro.props;

const classes = variant === 'primary' 
  ? 'btn' 
  : 'btn border border-[var(--secondary)] text-[var(--text)]';

const displayText = label?.startsWith('buttons.') 
  ? (t(label) || label) 
  : (label || '');
---

<button class={classes} {...rest}>
  {displayText}
  <slot />
</button>

<style>
  .btn {
   position: relative;
   min-width: 200px;
   min-height: 50px;
   font-size: 1.5rem;
   padding: 0rem 0rem;
   color:purple;
   border: none;
   border-radius: 50px;
   background: transparent;
   font-weight: 700;
   cursor: pointer;
   overflow: hidden;
   }

  .btn::before {
   content: '';
   position: absolute;
   inset: 0;
   background: linear-gradient(45deg, #ff00aa, #00d4ff);
   border-radius: 50px;
   padding: 4px;  /* سمك الحدود */        
   -webkit-mask: 
   linear-gradient(#fff 0 0) content-box, 
   linear-gradient(#fff 0 0);
   -webkit-mask-composite: xor;
    mask-composite: exclude;
   }

  .btn span {
   position: absolute;
   background: linear-gradient(45deg, #ff00aa, #00d4ff);
   -webkit-background-clip: text;
   -webkit-text-fill-color: transparent;
   background-clip: text;
   }
 .btn:hover {
   background-image: 
   linear-gradient(45deg, #ff00aa, #00d4ff),
   linear-gradient(45deg, #ff00aa, #00d4ff);
   background-origin: border-box, border-box;
   color: white;
   transform: translateY(-2px);
   box-shadow: 0 10px 20px rgba(0, 212, 255, 0.25);
   }

/*  زر عادي
.btn {
  background: linear-gradient(90deg, #6366f1, #a855f7); 
  color: white;
  padding: 0.75rem 1.5rem;
  border-radius: var(--radius);
  font-weight: 600;
  font-size: 1.15rem;
  border: none;
  cursor: pointer;
  transition: var(--transition);
  box-shadow: 0 4px 12px rgba(37,99,235,0.2);
  }

.btn:hover {
  background: linear-gradient(90deg, #a855f7, #6366f1);  
  transform: translateY(-3px);
  box-shadow: 0 8px 20px rgba(37,99,235,0.3);
  }
*/

/* Responsive Design */
@media (max-width: 768px) {
  .btn {
    width: 100%;
    max-width: 200px;
  }
}
</style>